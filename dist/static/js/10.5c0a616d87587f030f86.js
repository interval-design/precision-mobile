webpackJsonp([10],{"7Otq":function(t,i,n){t.exports=n.p+"static/img/logo.727ad14.png"},Dw6G:function(t,i,n){i=t.exports=n("FZ+f")(!1),i.push([t.i,"\n.itv-bind {\n  padding: 96px 72px;\n  text-align: center;\n  color: #3C90EF;\n}\n.itv-bind .logo {\n    margin-bottom: 48px;\n}\n.itv-bind .itv-form {\n    padding: 64px 0;\n}\n.itv-bind .itv-input-group {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    padding: 16px 8px;\n    text-align: left;\n    border-bottom: 1px solid #EAEAEA;\n    -webkit-transition: all .3s;\n    transition: all .3s;\n}\n.itv-bind .itv-input-group:not(:first-child) {\n      margin-top: 64px;\n}\n.itv-bind .itv-input-group .itv-input {\n      -webkit-box-flex: 1;\n          -ms-flex: 1;\n              flex: 1;\n}\n.itv-bind .itv-input-group .icon-svg {\n      margin-right: 16px;\n}\n.itv-bind .itv-input-group .captcha-group .img {\n      display: inline-block;\n      width: 120px;\n      -o-object-fit: contain;\n         object-fit: contain;\n}\n.itv-bind .itv-input-group .captcha-group .refresh {\n      display: inline-block;\n      color: #3C90EF;\n      font-size: 28px;\n      vertical-align: bottom;\n      cursor: pointer;\n}\n.itv-bind .itv-input-group.active {\n      border-bottom: 1px solid #3C90EF;\n      -webkit-transition: all .3s;\n      transition: all .3s;\n}\n.itv-bind .info-tip {\n    padding: 16px 0;\n    color: #FE5462;\n    text-align: right;\n}\n",""])},Imvj:function(t,i,n){"use strict";function e(t){n("YIvl")}Object.defineProperty(i,"__esModule",{value:!0});var a=n("vMJZ"),o={name:"Login",created:function(){this.getCaptcha()},data:function(){return{bindForm:{mobile:"",code:"",captchaCode:"",errorText:"",captchaImage:null,captchaToken:null},codeStatus:{statusText:"获取验证码",sending:!1,interval:void 0},focus:1}},methods:{getCaptcha:function(){var t=this;a.a.getCaptcha({width:100,height:50}).then(function(i){var n=i.data.data;0===i.data.code&&(t.bindForm.captchaImage=n.image,t.bindForm.captchaToken=n.token)})},sendCode:function(){var t=this,i=30;if(""===this.bindForm.mobile)return void(this.bindForm.errorText="手机号不能为空");a.a.sendBind({mobile:this.bindForm.mobile,captcha_token:this.bindForm.captchaToken,captcha_code:this.bindForm.captchaCode}).then(function(n){0===n.data.code?(t.bindForm.errorText="",t.codeStatus.sending=!0,t.codeStatus.statusText=i+"s",t.codeStatus.interval=setInterval(function(){if(1===i)return t.codeStatus.sending=!1,t.codeStatus.statusText="获取验证码",void clearInterval(t.status.interval);i--,t.codeStatus.statusText=i+"s"},1e3)):t.bindForm.errorText=n.data.message})},submitBind:function(){var t=this;a.a.bind({mobile:this.bindForm.mobile,code:this.bindForm.code}).then(function(i){var n=i.data.data;0===i.data.code?(t.$bus.$emit(t.$bus.EVENTS.USER_UPDATE,n.user),t.$cookies.setRaw("_prs_user",n.token,{expires:"30D"}),t.$router.push({name:"BindSuccess"})):t.bindForm.errorText=i.data.message})}}},s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"itv-bind"},[e("img",{staticClass:"logo",attrs:{src:n("7Otq"),alt:"logo"}}),t._v(" "),e("p",[t._v("绑定手机即可体检普瑞森服务")]),t._v(" "),e("div",{staticClass:"itv-form"},[e("div",{staticClass:"itv-input-group",class:{active:1==t.focus}},[e("icon-svg",{attrs:{"icon-class":1==t.focus?"phone":"phone-disabled"}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.bindForm.mobile,expression:"bindForm.mobile"}],staticClass:"itv-input",attrs:{type:"text",placeholder:"请输入新手机号"},domProps:{value:t.bindForm.mobile},on:{focus:function(i){t.focus=1},input:function(i){i.target.composing||t.$set(t.bindForm,"mobile",i.target.value)}}})],1),t._v(" "),e("div",{staticClass:"itv-input-group",class:{active:2==t.focus}},[e("icon-svg",{attrs:{"icon-class":2==t.focus?"captcha":"captcha-disabled"}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.bindForm.captchaCode,expression:"bindForm.captchaCode"}],staticClass:"itv-input",attrs:{type:"text",placeholder:"请输入验证码"},domProps:{value:t.bindForm.captchaCode},on:{focus:function(i){t.focus=2},input:function(i){i.target.composing||t.$set(t.bindForm,"captchaCode",i.target.value)}}}),t._v(" "),e("div",{staticClass:"captcha-group"},[e("img",{staticClass:"img",attrs:{src:"data:img/jpg;base64,"+t.bindForm.captchaImage,alt:"captchaImage"}}),t._v(" "),e("span",{staticClass:"refresh",on:{click:t.getCaptcha}},[t._v("刷新")])])],1),t._v(" "),e("div",{staticClass:"itv-input-group",class:{active:3==t.focus}},[e("icon-svg",{attrs:{"icon-class":3==t.focus?"code":"code-disabled"}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.bindForm.code,expression:"bindForm.code"}],staticClass:"itv-input",attrs:{type:"text",placeholder:"输入验证码"},domProps:{value:t.bindForm.code},on:{focus:function(i){t.focus=3},input:function(i){i.target.composing||t.$set(t.bindForm,"code",i.target.value)}}}),t._v(" "),e("base-button",{attrs:{size:"small",disabled:t.codeStatus.sending||""==t.bindForm.captchaCode},on:{click:t.sendCode}},[t._v("获取验证码\n      ")])],1),t._v(" "),e("div",{staticClass:"info-tip"},[t._v(t._s(t.bindForm.errorText))])]),t._v(" "),e("base-button",{attrs:{width:"100%"},on:{click:t.submitBind}},[t._v("立即绑定")])],1)},c=[],r={render:s,staticRenderFns:c},d=r,l=n("VU/8"),p=e,u=l(o,d,!1,p,null,null);i.default=u.exports},YIvl:function(t,i,n){var e=n("Dw6G");"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);n("rjj0")("70c335cc",e,!0)}});